<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= product.name %></title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body class="bg-white">
  <%- include('./partials/header') %>

  <main class="w-full min-h-screen flex flex-col md:flex-row items-start md:items-center justify-center px-4 sm:px-6 md:px-10 lg:px-20 py-6 md:mt-10 gap-6">

    <!-- Product Image -->
    <div class="w-full md:w-1/2 flex items-center justify-center md:pb-6">
      <img class="w-full max-w-lg bg-gray-100 h-auto object-contain rounded-lg shadow-md"
        src="<%= product.image %>" alt="<%= product.name %>">
    </div>

    <!-- Product Details --> 
    <div class="w-full md:w-1/2 flex flex-col justify-center">
      <!-- Category -->
      <h3 class="text-gray-600 text-sm sm:text-base mb-2">
        <%= product.category.charAt(0).toUpperCase() + product.category.slice(1) %>
      </h3>

      <!-- Name -->
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-semibold mb-4">
        <%= product.name %>
      </h1>

      <!-- Price -->
      <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-green-700 mb-4">
        $ <%= product.price %>
      </h2>

      <hr class="my-2">

      <!-- Quantity Selector -->
      <div class="flex flex-col items-start gap-3 mb-6">
        <label for="quantity" class="font-medium text-gray-600">Quantity*</label>

        <div class="flex items-center border border-gray-400 rounded-md overflow-hidden">
          <button id="decrease" class="px-3 py-2 font-semibold hover:bg-gray-100">
            <i class="ri-subtract-fill"></i>
          </button>
          <input id="quantity" type="number" value="1" min="1"
            class="w-16 text-center font-semibold border-0 focus:ring-0 outline-none no-spinner">
          <button id="increase" class="px-3 py-2 font-semibold hover:bg-gray-100">
            <i class="ri-add-fill"></i>
          </button>
        </div>
      </div>

      <!-- Buttons -->
      <div class="flex flex-col sm:flex-row sm:gap-4 w-full">
        <a href="/addtocart/<%= product._id %>"
          class="bg-black text-white text-base font-semibold px-6 py-3 rounded-md mb-3 sm:mb-0 flex items-center justify-center hover:opacity-90 transition w-full sm:w-auto">
          Add to Cart
        </a>

        <a href="#"
          class="bg-[#BC4C2A] text-white text-base font-semibold px-6 py-3 rounded-md flex items-center justify-center hover:opacity-90 transition w-full sm:w-auto">
          Buy Now
        </a>
      </div>

      <!-- Delivery -->
      <div class="text-green-700 flex items-center my-3 ">
        <i class="ri-truck-line text-xl mr-2"></i>
        <h4 class="text-sm sm:text-base">Estimated Delivery: Within 3 days</h4>
      </div>

      <!-- Description -->
      <div class="mb-4">
        <h3 class="text-black text-lg sm:text-xl mb-1 font-semibold">Description</h3>
        <p class="text-gray-700 text-sm sm:text-base leading-relaxed">
          <%= product.description %>
        </p>
      </div>

      <!-- Returns -->
      <div>
        <h3 class="text-black text-lg sm:text-xl mb-1 font-semibold">Returns</h3>
        <p class="text-gray-700 text-sm sm:text-base leading-relaxed">
          Free standard shipping on orders $50+ and free 7-day returns for SCATCH Members.
        </p>
      </div>
    </div>

  </main>

  <!-- Quantity Control Script -->
  <script>
    const decreaseBtn = document.getElementById("decrease");
    const increaseBtn = document.getElementById("increase");
    const quantityInput = document.getElementById("quantity");

    decreaseBtn.addEventListener("click", () => {
      let value = parseInt(quantityInput.value) || 1;
      if (value > 1) {
        quantityInput.value = value - 1;
      }
    });

    increaseBtn.addEventListener("click", () => {
      let value = parseInt(quantityInput.value) || 1;
      quantityInput.value = value + 1;
    });
  </script>
</body>

</html>
