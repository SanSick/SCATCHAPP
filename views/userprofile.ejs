<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - Exclusive</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
</head>

<body class="bg-white text-gray-800">

    <!-- Header -->
    <%- include('./partials/header') %>
    <p class="border-b mt-3"></p>

    <!-- Breadcrumb -->
    <div class="container mx-auto px-6 py-4 md:my-6 text-base text-gray-500 flex justify-between items-center">
        <!-- Breadcrumb -->
        <h2 class="hidden sm:inline-block">
            Home / <span class="text-black">My Account</span>
        </h2>

        <!-- Profile Section -->
        <div class="flex items-center gap-3">
            <h3 class="text-black">
                Welcome! <span class="text-red-500 font-semibold">Md Rimel</span>
            </h3>
            <div class="w-12 h-12 rounded-full overflow-hidden border border-gray-300">
                <img src="<%= user.picture ? user.picture : '/uploads/profilepic.svg' %>" 
                alt="Profile" 
                class="w-full h-full object-cover">           
            </div>
        </div>
    </div>


    <!-- Main Section -->
    <div class="container mx-auto flex flex-col md:flex-row px-6 gap-5 sm:gap-10">
        <!-- Toggle Button (visible only on mobile) -->
        <div class="md:hidden flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold">Menu</h3>
            <button id="menuToggle" class="p-1 border rounded relative w-10 h-10 flex items-center justify-center">
                <!-- Menu Icon -->
                <i id="menuIcon" class="ri-menu-line text-xl"></i>
                <!-- Close Icon (hidden by default) -->
                <i id="closeIcon" class="ri-close-large-line text-xl hidden"></i>
            </button>
        </div>

        <!-- Sidebar -->
        <aside id="sidebarMenu" class="hidden md:block md:w-1/4 bg-gray-50 p-4 rounded-md shadow text-base">
            <h3 class="font-medium mb-2">Manage My Account</h3>
            <ul class="space-y-2 text-gray-500 ml-6">
                <li><a href="#" class="text-red-500">My Profile</a></li>
                <li><a href="#">Address Book</a></li>
                <li><a href="#">My Payment Options</a></li>
            </ul>

            <h3 class="font-medium mt-6 mb-2">My Orders</h3>
            <ul class="space-y-2 text-gray-500 ml-6">
                <li><a href="#">My Returns</a></li>
                <li><a href="#">My Cancellations</a></li>
            </ul>

            <h3 class="font-medium mt-6 mb-2">My Wishlist</h3>
        </aside>

        <!-- Profile Form -->
        <section class="flex-1 bg-gray-50 p-6 md:p-8 rounded-md shadow">
            <h2 class="text-lg md:text-xl font-semibold mb-6">Edit Your Profile</h2>
            <form method="post" action="/users/account/update" enctype="multipart/form-data"
                class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Full Name -->
                <div>
                    <label class="block mb-1">Full Name</label>
                    <input type="text" name="fullname" value="<%= user.fullname ? user.fullname : '' %>"
                        placeholder="Full Name" class="w-full border rounded px-3 py-2" />
                </div>

                <!-- Email -->
                <div>
                    <label class="block mb-1">Email</label>
                    <input type="email" name="email" value="<%= user.email ? user.email : '' %>" placeholder="Email"
                        class="w-full border rounded px-3 py-2" />
                </div>

                <!-- Mobile Number -->
                <div>
                    <label class="block mb-1">Mobile Number</label>
                    <input type="number" name="contact" value="<%= user.contact ? user.contact : '' %>"
                        placeholder="Contact" class="w-full border rounded px-3 py-2" />
                </div>

                <!-- Address -->
                <div>
                    <label class="block mb-1">Address</label>
                    <input type="text" name="address" value="<%= user.address ? user.address : '' %>"
                        placeholder="Address" class="w-full border rounded px-3 py-2" />
                </div>

                <!-- Profile Picture Upload -->
                <div class="col-span-1 md:col-span-2">
                    <label class="block mb-1">Profile Picture</label>
                    <input type="file" name="picture" accept="image/*" class="w-full border rounded px-3 py-2" />
                </div>

                <!-- Password -->
                <div class="col-span-1 md:col-span-2">
                    <h3 class="font-semibold mb-3">Password Changes</h3>
                    <input type="password" name="currentPassword" placeholder="Current Password"
                        class="w-full border rounded px-3 py-2 mb-3" />
                    <input type="password" name="newPassword" placeholder="New Password"
                        class="w-full border rounded px-3 py-2 mb-3" />
                    <input type="password" name="confirmPassword" placeholder="Confirm New Password"
                        class="w-full border rounded px-3 py-2" />
                </div>


                <!-- Buttons -->
                <div class="col-span-1 md:col-span-2 flex justify-between md:justify-end gap-4 mt-4">
                    <button type="reset" class="px-4 py-2">Cancel</button>
                    <button type="submit" class="px-3 sm:px-6 py-2 bg-red-500 text-white rounded">Save Changes</button>
                </div>
            </form>
        </section>
    </div>

    <!-- Footer -->
    <%- include('./partials/footer') %>


        <!-- Script -->
        <script>
            const toggleBtn = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebarMenu');
            const menuIcon = document.getElementById('menuIcon');
            const closeIcon = document.getElementById('closeIcon');

            toggleBtn.addEventListener('click', () => {
                sidebar.classList.toggle('hidden');
                menuIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });
        </script>

</body>

</html>